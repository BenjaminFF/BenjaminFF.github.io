(window["webpackJsonpreact-lab"]=window["webpackJsonpreact-lab"]||[]).push([[0],{112:function(e,t,a){e.exports=a(228)},117:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(107),o=a.n(c),i=(a(117),a(45)),s=a(18),l=a(19),u=a(21),m=a(20),h=a(22),d=a(24),p=a(14),f=(a(119),a(120),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",{className:"schulte"},"Hello, Home")}}]),t}(n.Component)),v=a(111),g=a(26),b=(a(121),a(23)),y=a.n(b),k=function(e){function t(e){var a,n;Object(s.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e));var r=localStorage.getItem("schulte-record");(n=null===r?[{mode:16,record:0,text:"4x4"},{mode:25,record:0,text:"5x5"},{mode:36,record:0,text:"6x6"},{mode:49,record:0,text:"7x7"}]:JSON.parse(r)).forEach((function(e,t){e.selected=0===t}));for(var c=[],o=0;o<n[0].mode;o+=1)c.push({index:o+1,active:!1});var i="repeat(".concat(Math.sqrt(n[0].mode),",5rem)"),l="repeat( ".concat(Math.sqrt(n[0].mode),",5rem)");return a.state={schulteModes:n,curMode:n[0],gridTemplateRows:l,gridTemplateColumns:i,cells:y.a.shuffle(c),curCellIndex:1,gameStarted:!1,recordInterval:null,tempRecord:0},a.onModeChange=a.onModeChange.bind(Object(g.a)(a)),a.startGame=a.startGame.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"formatRecord",value:function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t<10?"0".concat(t):t,":").concat(a<10?"0".concat(a):a)}},{key:"startGame",value:function(){var e=this;this.state.recordInterval=setInterval((function(){var t=e.state.tempRecord;t++,e.setState({tempRecord:t})}),1e3),this.setState({gameStarted:!0})}},{key:"onModeChange",value:function(e){for(var t=e.target.value,a=this.state.schulteModes.filter((function(e){return e.mode==t}))[0],n="repeat(".concat(Math.sqrt(a.mode),",5rem)"),r="repeat( ".concat(Math.sqrt(a.mode),",5rem)"),c=[],o=0;o<a.mode;o+=1)c.push({index:o+1,active:!1});this.setState({curMode:a,gridTemplateColumns:n,gridTemplateRows:r,cells:y.a.shuffle(c),curCellIndex:1,gameStarted:!1,tempRecord:0}),null!=this.state.recordInterval&&clearInterval(this.state.recordInterval)}},{key:"onCellClick",value:function(e){var t=this;if(this.state.gameStarted){var a=Object(v.a)(this.state.cells),n=this.state,r=n.curCellIndex,c=n.curMode,o=n.tempRecord;e==r&&(a.filter((function(t){return t.index==e}))[0].active=!0,r++),this.setState({cells:a,curCellIndex:r}),r>c.mode&&(null!=this.state.recordInterval&&clearInterval(this.state.recordInterval),setTimeout((function(){alert("\u4f60\u5b8c\u6210\u4e86\uff0c\u8bb0\u5f55\u4e3a".concat(t.formatRecord(o))),(o<c.record||0==c.record)&&(c.record=o,localStorage.setItem("schulte-record",JSON.stringify(t.state.schulteModes)),t.setState({curMode:c}));for(var e=[],a=0;a<c.mode;a+=1)e.push({index:a+1,active:!1});t.setState({gameStarted:!1,tempRecord:0,cells:y.a.shuffle(e),curCellIndex:1})}),500))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"schulte-container"},r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"schulte-nav"},r.a.createElement("select",{onChange:this.onModeChange},this.state.schulteModes.map((function(e){return r.a.createElement("option",{value:e.mode,key:e.mode},e.text)}))),!this.state.gameStarted&&r.a.createElement("div",null,"\u6700\u9ad8\u7eaa\u5f55\uff1a",this.formatRecord(this.state.curMode.record)),this.state.gameStarted&&r.a.createElement("div",null,this.formatRecord(this.state.tempRecord))),r.a.createElement("div",{className:"schulte-body"},!this.state.gameStarted&&r.a.createElement("div",{className:"button",onClick:this.startGame},"\u5f00\u59cb"),r.a.createElement("div",{className:"cells-container",style:{gridTemplateColumns:this.state.gridTemplateColumns,gridTemplateRows:this.state.gridTemplateRows}},this.state.cells.map((function(t){return r.a.createElement("div",{className:["cell",t.active?"active":""].join(" "),onClick:e.onCellClick.bind(e,t.index),key:t.index},t.index)}))))))}}]),t}(n.Component),E=(a(123),a(110)),C=(a(124),[{path:"/",exact:!0,name:"index",component:f},{path:"/home",name:"home",component:f},{path:"/subtitleLearn",name:"subtitleLearn",component:function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={playing:!0,subtitleArr:[],mAudio:null},a.togglePlay=a.togglePlay.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("mAudio");fetch("./DeepaNarayan_2019I.srt").then((function(e){return e.text()})).then((function(a){var n=Object(E.a)(a);n.forEach((function(e){e.selected=!1})),t.ontimeupdate=function(){var a=n.filter((function(e){return e.selected}))[0];if(!a||!(1e3*t.currentTime>a.start&&1e3*t.currentTime<a.end)){n.forEach((function(e){e.selected=!1}));var r=!0,c=!1,o=void 0;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;if(1e3*t.currentTime>l.start&&1e3*t.currentTime<l.end){l.selected=!0;break}}}catch(u){c=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(c)throw o}}e.setState({subtitleArr:n.filter((function(e){return e.end<13e4}))})}},e.setState({mAudio:t,subtitleArr:n.filter((function(e){return e.end<13e4}))})}))}},{key:"togglePlay",value:function(){this.setState({playing:!this.state.playing}),this.state.playing?this.state.mAudio.pause():this.state.mAudio.play()}},{key:"render",value:function(){return r.a.createElement("div",{className:"sl-container"},this.state.subtitleArr.map((function(e){return r.a.createElement("div",{className:["sl-subtitle",e.selected?"selected":""].join(" ")},e.text)})),r.a.createElement("audio",{width:600,height:400,autoPlay:!0,paused:!0,id:"mAudio",src:"./DeepaNarayan.mp3"}),r.a.createElement("div",{className:["music-controler",this.state.playing?"music-controler-playing":""].join(" "),onClick:this.togglePlay},r.a.createElement("i",{className:"iconfont rl-music"})))}}]),t}(n.Component)},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k},{path:"/schulte",name:"schulte",component:k}]),x=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e));var n=p.isMobile?C.length:9,r=p.isMobile?1:parseInt(C.length/n,10);r=p.isMobile||C.length%n==0?r:r+1;for(var c=p.isMobile?"repeat(1,".concat(.9*window.innerWidth,"px)"):"repeat(3,12rem)",o=p.isMobile?"repeat( ".concat(C.length,",").concat(.9*window.innerWidth,"px)"):"repeat(3,12rem)",i=p.isMobile?.05*window.innerWidth:5,l=[],h=0;h<r;h+=1)l.push(h);var d=["#3066BE","#A5668B","#69306D","#3C3744","#248232","#8C4843","#593C8F","#00ad5d","#0FA3B1"];d=y.a.shuffle(d);var f=C.slice(0,n);return f.forEach((function(e,t){e.bg=d[t]})),a.state={pages:r,colors:d,pageSize:n,pageItems:l,marginTop:i,gridTemplateRows:o,gridTemplateColumns:c,curPage:0,links:f},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname;this.setState({isHome:"/"==t}),this.props.history.listen((function(t){e.onRouterChange(t)}))}},{key:"onRouterChange",value:function(e){var t=e.pathname;this.setState({isHome:"/"==t})}},{key:"pageToggle",value:function(e){var t=this.state,a=t.pageSize,n=t.colors,r=C.slice(e*a,e*a+a);n=y.a.shuffle(n),r.forEach((function(e,t){e.bg=n[t]})),this.setState({links:r,curPage:e})}},{key:"enterLink",value:function(){this.setState({isHome:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},this.state.isHome&&r.a.createElement("div",{className:"header"}),this.state.isHome&&r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"links-container",style:{gridTemplateColumns:this.state.gridTemplateColumns,gridTemplateRows:this.state.gridTemplateRows,height:p.isMobile?"100%":"fit-content"}},this.state.links.map((function(t,a){return r.a.createElement(i.b,{key:a,className:"link-container",style:{marginTop:"".concat(e.state.marginTop,"px"),backgroundColor:"".concat(t.bg)},onClick:e.enterLink.bind(e),to:t.path},t.name)})),p.isMobile&&r.a.createElement("div",{className:"bottom"},"~~\u5230\u5e95\u4e86~~")),!p.isMobile&&this.state.pages>1&&r.a.createElement("div",{className:"pageitems-container"},this.state.pageItems.map((function(t){return r.a.createElement("div",{key:t,className:"page-item ".concat(t===e.state.curPage?"page-item-active":null),onClick:e.pageToggle.bind(e,t)})})))),!this.state.isHome&&r.a.createElement(d.c,null,C.map((function(e,t){return r.a.createElement(d.a,{key:t,path:e.path,exact:e.exact,component:e.component})}))))}}]),t}(n.Component),j=Object(d.f)(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[112,1,2]]]);
//# sourceMappingURL=main.7cee497f.chunk.js.map